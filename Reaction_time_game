from pitop import Pitop, Button, LED
from time import sleep
import random
import time
x = True
y = True
z = True
pitop = Pitop()
screen = pitop.miniscreen
led_red = LED("D0")
led_green = LED("D1")
btn = Button("D2")

toggle_active = False
screen.display_text("Click button to begin")
def abd():
    while not screen.cancel_button.is_pressed:
    if btn.is_pressed:
        screen.display_text("Click when green")
        led_red.on()
        sleep(.5)
        toggle_active = True
    if toggle_active:
        num = random.randint(1,10)

        while x:
            print(num)
            sleep(0.5)
            while num != 0:
                if btn.is_pressed:
                    screen.display_text("Too fast")
                num -= 1
                if num == 1:
                    x = False
        sleep(.5)

        led_green.on()
        start_time = time.time()

        while y:
            if btn.is_pressed:
                led_red.off()
                end_time = time.time()
                elapsed_time = (end_time - start_time)
                screen.display_text(f"Elapsed time: {elapsed_time:.2f} seconds")
                y = False
                sleep(.5)
                
    
    if btn.is_pressed:
        abd()
